<!--
## 2024.x.x (unreleased)
### Abstract

### General
-

### Client
-

### Server
-

-->


## 2024.3.1-bsk-5.2.5 (a_cup_of_water)
### Abstract
- フォントを削除

### General
- Change: フォントを削除


## 2024.3.1-bsk-5.2.4 (a_cup_of_water)
### Abstract
- 新しい日本語フォントを導入しました

### General
- Enhance: 5.2.3で入ったLexendに馴染む日本語フォントKiwiMaruを導入


## 2024.3.1-bsk-5.2.3 (a_cup_of_water)
### Abstract
- Developブランチに追従しました
- Sharkeyからいくつかコミットをチェリーピックさせていただきました
- Backspacekeyのブロックに関わる処理が本家に取り込まれたのでブロックに名称を戻しました

### General
- 英字フォントがLexendに(Cherry-picked from [Sharkey](https://activitypub.software/TransFem-org/Sharkey/-/commit/5ae049a4af84c83b6ee8be594527a927ce4202de))

### Client
- Enhance: 映像・音声の再生にブラウザのネイティブプレイヤーを使用できるように
- Enhance: 映像・音声の再生メニューに「再生速度」「ループ再生」「ピクチャインピクチャ」を追加
- Enhance: 映像・音声の再生にキーボードショートカットが使えるように
- Enhance: ノートについているリアクションの「もっと！」から、リアクションの一覧を表示できるように

### Server
- Fix: エンドポイント`notes/translate`のエラーを改善
- Fix: CleanRemoteFilesProcessorService report progress from 100% (#13632)
- Fix: 一部の音声ファイルが映像ファイルとして扱われる問題を修正


## 2024.3.1-bsk-5.2.2.hotfix1 (a_cup_of_water)
### Abstract
- Developブランチに追従しました
- あけおめらんかーが正常に動作する可能性があります
- /api/statsのreactionsCountは常に0を返します
- ユーザーのプロフィールのリンク検証は利用できません

### Note
- コントロールパネル内にあるサマリープロキシの設定個所がセキュリティから全般へ変更となります。

### General
- Enhance: URLプレビューの有効化・無効化を設定できるように #13569
- Enhance: アンテナでBotによるノートを除外できるように  
  (Cherry-picked from https://github.com/MisskeyIO/misskey/pull/545)
- Fix: Play作成時に設定した公開範囲が機能していない問題を修正
- ユーザーのプロフィールのリンク検証を行わないように(再開予定)

### Client
- Enhance: 設定>プラグインのページからプラグインの簡易的なログやエラーを見られるように
  - 実装の都合により、プラグインは１つエラーを起こした時に即時停止するようになりました
- Enhance: ページのデザインを変更
- Enhance: 2要素認証（ワンタイムパスワード）の入力欄を改善
- Enhance: 「今日誕生日のフォロー中ユーザー」ウィジェットを手動でリロードできるように
- Fix: WebGL2をサポートしないブラウザで「季節に応じた画面の演出」が有効になっているとき、Misskeyが起動できなくなる問題を修正  
  (Cherry-picked from https://activitypub.software/TransFem-org/Sharkey/-/merge_requests/459)
- Fix: ページタイトルでローカルユーザーとリモートユーザーの区別がつかない問題を修正  
  (Cherry-picked from https://github.com/MisskeyIO/misskey/pull/528)
- Fix: コードブロックのシンタックスハイライトで使用される定義ファイルをCDNから取得するように #13177
  - CDNから取得せずMisskey本体にバンドルする場合は`pacakges/frontend/vite.config.ts`を修正してください。
- Fix: タイムゾーンによっては、「今日誕生日のフォロー中ユーザー」ウィジェットが正しく動作しない問題を修正

### Server
- Enhance: エンドポイント`antennas/update`の必須項目を`antennaId`のみに
- Enhance: misskey-dev/summaly@5.1.0の取り込み（プレビュー生成処理の効率化）
- Fix: フォローリクエストを作成する際に既存のものは削除するように  
  (Cherry-picked from https://activitypub.software/TransFem-org/Sharkey/-/merge_requests/440)
- 公式クライアントで使われていない/api/statsのreactionsCountで0を返すように


## 2024.3.1-bsk-5.2.1 (a_cup_of_water)
### Abstract
- Developブランチに追従しました
- あけおめらんかーが正常に動作する可能性があります

### Client
- Enhance: 自分のノートの添付ファイルから直接ファイルの詳細ページに飛べるように
- Enhance: 広告がMisskeyと同一ドメインの場合はRouterで遷移するように
- Enhance: リアクション受け入れが「いいねのみ」の場合はリアクション絵文字一覧を表示しないように
- Fix: 一部のページ内リンクが正しく動作しない問題を修正
- Fix: 周年の実績が閏年を考慮しない問題を修正
- Fix: ローカルURLのプレビューポップアップが左上に表示される

### Server
- Enhance: エンドポイント`antennas/update`の必須項目を`antennaId`のみに
-  [fix(backend): DBフォールバック有効時、複数のFTTソースから取得するタイムラインで取得漏れが起きる現象の修正 #13495](https://github.com/misskey-dev/misskey/pull/1349)の変更に追従しました


## 2024.3.1-bsk-5.2.0 (a_cup_of_water)
### Abstract
- 後述するチェリーピックにより、HTLとSTLをローカルのみに絞り込めるようになりました

### General
- [Feat: HTLとSTLをローカルのみに絞り込む機能](https://github.com/tai-cha/misskey/pull/3)


## 2024.3.1-bsk-5.1.8 (waterdrop)
### Abstract
- Developブランチに追従しました
- [fix(backend): DBフォールバック有効時、複数のFTTソースから取得するタイムラインで取得漏れが起きる現象の修正 #13495](https://github.com/misskey-dev/misskey/pull/1349)を先行導入しました。

### Client
- Enhance: カスタム絵文字の画像読み込みに失敗した際のフォールバックをテキストか画像か選べるように

### Server
- Fix: FTT有効かつDBフォールバック有効時、STLのようにタイムラインのソースが複数だとFTTとDBのフォールバック間で取得されないノートがある問題


## 2024.3.0-bsk-5.1.7 (waterdrop)
### Abstract
- Developブランチに追従しました
- 通知が表示されない不具合が改善する可能性があります
- カスタム絵文字の画像読み込みに失敗した際はテキストではなくダミー画像が表示されます
- リアクションが最大で24個表示されるようになり、賑やかになりました

### General
- Enhance: 投稿者のロールに応じて、一つのノートに含むことのできるメンションとダイレクト投稿の宛先の人数に上限を設定できるように
  * デフォルトのメンション上限は20アカウントに設定されます。（管理者はベースロールの設定で変更可能です。）
  * 連合の問い合わせに応答しないサーバーのリモートユーザーへのメンションは、上限の人数に含めない実装になっています。
- Enhance: 通知がミュート、凍結を考慮するようになりました
- Enhance: コンディショナルロールの条件に「マニュアルロールへのアサイン」を追加
- Enhance: 通知の受信設定に「フォロー中またはフォロワー」を追加

### Client
- Fix: 絵文字関係の不具合を修正 (#13485)
  - 履歴に残っている or ピン留めされた絵文字がコントロールパネルより削除されていた際にリアクションデッキが表示できなくなる
  - Unicode絵文字が履歴に残っている or ピン留めされているとリアクションデッキが表示できなくなる
- Fix: カスタム絵文字の画像読み込みに失敗した際はテキストではなくダミー画像を表示 #13487
- Fix: 設定のバックアップ作成時に名前を入力しなかった場合、ローカライゼーションがおかしくなる問題を修正
- Fix: ページ`/admin/emojis`の絵文字編集ダイアログで「リアクションとして使えるロール」を追加する際に何も選択せずOKを押下すると画面が固まる問題を修正
- Fix: ユーザの情報のポップアップが消えなくなることがある問題を修正

### Server
- Enhance: エンドポイント`flash/update`の`flashId`以外のパラメータは必須ではなくなりました
- Fix: 破損した通知をクライアントに送信しないように
	* 通知欄が無限にリロードされる問題が改善する可能性があります
- Fix: 自分がフォローしていないアカウントのフォロワー限定ノートが閲覧できることがある問題を修正
- Fix: タイムラインのオプションで「リノートを表示」を無効にしている際、投票のみの引用リノートが流れてこない問題を修正
- Fix: エンドポイント`admin/emoji/update`の各種修正
- Fix: 通知の受信設定で「相互フォロー」が正しく動作しない問題を修正


## 2023.12.2-bsk-5.1.4 (waterdrop)
### Abstract
- ローカルでミュートした人が自分のノートにリアクションした際に、ユーザーが表示されなくなりました
	- この変更によって、誰がリアクションしたかがミュートするとわからなくなります
	- リアクション自体は変わらず表示されます

## 2023.12.2-bsk-5.1.2(5.1.3) (waterdrop)
### Abstract
- Developブランチからいくつかの変更点をチェリーピックしました

### Client
- Fix: Summaly proxy利用時にプレイヤーが動作しないことがあるのを修正 #13196
- Fix: MkCodeEditorで行がずれていってしまう問題の修正
- Fix: プロフィールを編集してもリロードするまで反映されない問題を修正
- Enhance: リアクション権限がない場合、ハートにフォールバックするのではなくリアクションピッカーなどから打てないように
  - リモートのユーザーにローカルのみのカスタム絵文字をリアクションしようとした場合
  - センシティブなリアクションを認めていないユーザーにセンシティブなカスタム絵文字をリアクションしようとした場合
  - ロールが必要な絵文字をリアクションしようとした場合
- Fix: エラー画像URLを設定した後解除すると，デフォルトの画像が表示されない問題の修正
- Enhance: リモートへの引用リノートと同一のリンクにはリンクプレビューを表示しないように

### Server
- Enhance: 連合向けのノート配信を軽量化 #13192


## 2023.12.2-bsk-5.1.1 (waterdrop)
### Abstract
- Developブランチへ追従しました

### General
- Fix: リモートユーザーのリアクション一覧がすべて見えてしまうのを修正
  * すべてのリモートユーザーのリアクション一覧を見えないようにします
- Enhance: モデレーターはすべてのユーザーのリアクション一覧を見られるように

### Client
- Enhance: リモートのユーザーはメニューから直接リモートで表示できるように
- Enhance: コードのシンタックスハイライトにテーマを適用できるように
- Fix: Renoteのキーボードショートカットが機能していなかった問題を修正
- Fix: 投稿フォームでアンケートの日時指定をした状態で再読み込みをすると期日が復元されない問題を修正
- Fix: アンケートを設定したノートを「削除して編集」をするとアンケートの期日が引き継がれず、リセットされてしまう問題を修正
- Fix: デッキのプロファイル作成時に名前を空にできる問題を修正
- Fix: テーマ作成時に名称が空欄でも作成できてしまう問題を修正
- Fix: プラグインで`Plugin:register_note_post_interruptor`を使用すると、ノートが投稿できなくなる問題を修正
- Fix: iOSで大きな画像を変換してアップロードできない問題を修正
- Fix: 「アニメーション画像を再生しない」もしくは「データセーバー（アイコン）」を有効にしていても、アイコンデコレーションのアニメーションが停止されない問題を修正
- Fix: 画像をクロップするとクロップ後の解像度が異様に低くなる問題の修正
- Fix: 画像をクロップ時、正常に完了できない問題の修正
- Fix: キャプションが空の画像をクロップするとキャプションにnullという文字列が入ってしまう問題の修正

### Server
- Fix: ジョブに関する設定の名前を修正 relashionshipJobPerSec -> relationshipJobPerSec
- Fix: コントロールパネル->モデレーション->「誰でも新規登録できるようにする」の初期値をONからOFFに変更 #13122


## 2023.12.2-bsk-5.1.0 (waterdrop)
### Abstract
- Developブランチへ追従しました
- DMでは公開範囲を広げる形での返信ができなくなりました
	- DMに対してはDMの返信となります
	- DMへの返信に新たに見ることができるアカウントを加えることはできません
	- 見えない場合でもメンションされた場合には通知が届きます


## 2023.12.2-bsk-5.0.9 (waterdrop)
### Abstract
- サウンドの設定の保存に関する修正
- タイムライン間をスワイプで移動できる機能をデフォルトではオフに


## 2023.12.2-bsk-5.0.8 (waterdrop)
### Abstract
- CIに関する修正


## 2023.12.2-bsk-5.0.7 (waterdrop)
### Abstract
- Developブランチへ追従しました


## 2023.12.2-bsk-5.0.6 (waterdrop)
### Abstract
- Developブランチへ追従しました
- 今までの「TLに他の人への返信を含める」設定は一旦リセットされます
- スワイプでタイムラインが切り替えられるようになります
- リバーシが追加されます

### Note
- 外部サイトからプラグインをインストールする場合のパスが`/install-extentions`から`/install-extensions`に変わります。現時点では以前のパスも利用できますが、非推奨です。

### General
- Feat: Add support for TrueMail

### Client
- Feat: 新しいゲームを追加
- Feat: 音声・映像プレイヤーを追加
- Feat: 枠線をつけるMFM`$[border.width=1,style=solid,color=fff,radius=0 ...]`を調整
  - デフォルトで枠線からはみ出る部分が隠されるようにしました。初期と同じ挙動にするには`$[border.noclip`が必要です
- Feat: スワイプでタブを切り替えられるように
- Enhance: MFM等のコードブロックに全文コピー用のボタンを追加
- Enhance: チャンネルノートの場合は詳細ページからその前後のノートを見れるように
- Enhance: 季節に応じた画面の演出を南半球でも利用できるように
- Enhance: タイムラインフィルターの設定をすべて保持できるように
	- 今までの「TLに他の人への返信を含める」設定は一旦リセットされます
- Enhance: タイムラインフィルターに「センシティブなファイルを含むノートを表示」を追加
- Enhance: ノート作成画面のファイル添付メニューから直接ファイルを削除できるように
- Enhance: MFMの属性でオートコンプリートが使用できるように #12735
- Enhance: 絵文字編集ダイアログをモーダルではなくウィンドウで表示するように
- Enhance: ページ遷移時にPlayerを閉じるように

### Server
- Enhance: `/files`のファイルに対してHTTP Rangeリクエストを行えるように
- Fix: properly handle cc followers

### Service Worker
- Enhance: オフライン表示のデザインを改善・多言語対応


## 2023.12.2-bsk-5.0.5 (waterdrop)
### Abstract
- Developブランチへ追従しました

### Server
- ファイルが添付されたノートの検索度速度が向上しました

## 2023.12.2-bsk-5.0.4 (waterdrop)
### Abstract
- Developブランチへ追従しました

### Client
- Feat: 絵文字の詳細ダイアログを追加
- Feat: 枠線をつけるMFM`$[border.width=1,style=solid,color=fff,radius=0 ...]`を追加
- Enhance: Playの説明欄にMFMを使えるように

### Server
- Enhance: `api.json`のOpenAPI Specificationを3.1.0に更新
- Fix: `notes/create`で、`text`が空白文字のみで構成されているか`null`であって、かつ`text`だけであるリクエストに対するレスポンスが400になるように変更
- Fix: `notes/create`で、`text`が空白文字のみで構成されていてかつリノート、ファイルまたは投票を含んでいるリクエストに対するレスポンスの`text`が`""`から`null`になるように変更
- Fix: ipv4とipv6の両方が利用可能な環境でallowedPrivateNetworksが設定されていた場合プライベートipの検証ができていなかった問題を修正


## 2023.12.2-bsk-5.0.3 (waterdrop)
### Abstract
- Developブランチへ追従しました
- AiScriptを0.16.0にダウングレードしました
- バブルゲームに変更が入りました


## 2023.12.2-bsk-5.0.2 (waterdrop)
### Abstract
- Developブランチへ追従しました
- 管理者でない場合は絵文字の管理を許可したAPIキーを発行不可になりました
- AiScriptを0.17.0に更新したので、配列の範囲外・非整数のインデックスへの代入が完全禁止になりました
- バブルゲームに変更が入りました

### Client
- Enhance: 管理者の場合はAPI tokenの発行画面で管理機能に関する権限を付与できるように
- Enhance: AiScriptを0.17.0に更新　[CHANGELOG](https://github.com/aiscript-dev/aiscript/blob/bb89d132b633a622d3cb0eff0d0cc7e476c0cfdd/CHANGELOG.md)
  - 配列の範囲外・非整数のインデックスへの代入が完全禁止になるので注意
- Change: 管理者でない場合は絵文字の管理を許可したAPIキーを発行不可に


## 2023.12.2-bsk-5.0.1 (waterdrop)
### Abstract
- Developブランチへ追従しました

### General
- Fix: リストライムラインの「リノートを表示」が正しく機能しない問題を修正

### Client
- Fix: ネイティブモードの絵文字がモノクロにならないように
- Enhance: 絵文字ピッカー・オートコンプリートで、完全一致した絵文字を優先的に表示するように

### Server
- Enhance: クリップをエクスポートできるように
- Fix: `drive/files/update`でファイル名のバリデーションが機能していない問題を修正


## 2023.12.2-bsk-5.0.0 (waterdrop)
### Abstract
- Developブランチへ追従しました
- アプリ開発者の方へ：/notes/featuredで取得できる最大件数が15件となりました

### General
- Feat: [mCaptcha](https://github.com/mCaptcha/mCaptcha)のサポートを追加

### Client
- Feat: 新しいゲームを追加
- Enhance: ハッシュタグ入力時に、本文の末尾の行に何も書かれていない場合は新たにスペースを追加しないように
- Fix: v2023.12.0で追加された「モデレーターがユーザーのアイコンもしくはバナー画像を未設定状態にできる機能」が管理画面上で正しく表示されていない問題を修正
- Enhance: チャンネルノートのピン留めをノートのメニューからできるように

### Server
- Enhance: 連合先のレートリミットに引っかかった際にリトライするようになりました
- Enhance: ActivityPub Deliver queueでBodyを事前処理するように (#12916)
- Enhance: サーバーの規模に合わせてみつけるに表示されるノートの数を調整


## 2023.12.2-bsk-4.0.13 (waterdrop)
### Abstract
- 2023.12.2に追従しました
- リアクションの表示を調整しました

### General
- v2023.12.1でDockerを利用してサーバーを起動できない問題を修正

### Client
- Enhance: 検索画面においてEnterキー押下で検索できるように


## 2023.12.1-bsk-4.0.12 (waterdrop)
### Abstract
- 2023.12.1に追従しました
- アバターデコレーション管理に用いることができるAPIキー発行機能を削除しました
- カスタム絵文字管理に関するAPIキー発行機能を調整しました

### General
- カスタム絵文字管理に関するAPIキー発行機能を調整(引き続き、権限がない場合は利用できません)
- アバターデコレーションの管理に関するAPIキー発行機能を削除

### Client
- Enhance: MFM入力補助ボタンを投稿フォームに表示できるように #12787
- Fix: `fg`/`bg`MFMに長い単語を指定すると、オーバーフローされずはみ出る問題を修正

### Server
- Enhance: `oauth/token`エンドポイントのCORS対応
- Fix: サードパーティアプリケーションがWebsocket APIに無条件にアクセスできる問題を修正
- Fix: サードパーティアプリケーションがユーザーの許可なしに非公開の情報を見ることができる問題を修正


## 2023.12.0-bsk-4.0.11 (waterdrop)
### Abstract
- Developブランチに追従しました
- そらいろさんのリポジトリから[fix(backend): 非センシティブのみ（リモートはいいねのみ）が昨日していない問題を修正 (misskey-dev#12801)](https://github.com/shiosyakeyakini-info/misskey/commit/1ca8eff326c779aac8f3b5b22aa4ef496aca658e)をチェリーピックしました
- ノート上での絵文字の表示に関する調整を行いました
- 絵文字Bot等の動作が可能になりました

### General
- Enhance: ローカリゼーションの更新
- Fix: 自分のdirect noteがuser list timelineに追加されない
- Enhance: 絵文字とアバターデコレーションを管理可能なAPIキーを発行可能に

### Client
- Fix: 一部のモデログ(logYellowでの表示対象)について、表示の色が変わらない問題を修正
- Feat: AiScript専用のMFM構文`$[clickable.ev=EVENTNAME ...]`を追加。`Mk:C:mfm`のオプション`onClickEv`に関数を渡すと、クリック時に`EVENTNAME`を引数にして呼び出す

### Server
- Enhance: センシティブワードの設定がハッシュタグトレンドにも適用されるようになりました
- Fix: 1702718871541-ffVisibility.jsのdownが壊れている
- Fix: ロールアサイン時の通知で，ロールアイコンが縮小されずに表示される問題を修正
- Fix:「非センシティブのみ（リモートはいいねのみ）」を設定していても、センシティブに設定されたカスタム絵文字をリアクションできる問題を修正
- Fix: カスタム絵文字の管理に関する権限が正しく設定されていない問題を修正


## 2023.12.0-bsk-4.0.10 (waterdrop)
### Abstract
- Misskeyを12.0に更新し、Developブランチに追従しました
- 実装に含まれながら表記されていなかった更新を12.0の更新に合わせて表記しました

### Note
- 絵文字の追加辞書を既にインストールしている場合は、お手数ですが再インストールのほどお願いします

### General
- Enhance: 指定したドメインのメールアドレスの登録を弾くことができるように
- Enhance: 公開ロールにアサインされたときに通知が作成されるように
- Enhance: つながりの公開範囲をフォロー/フォロワーで個別に設定可能に #12072
- Enhance: ローカリゼーションの更新
- Enhance: 依存関係の更新

### Client
- Enhance: リアクションの表示幅制限を設定可能に
- Enhance: Unicode 15.0のサポート
-	Enhance: 絵文字などのオートコンプリートでShift+Tabを押すと前の候補を選択できるように
- Enhance: チャンネルに新規の投稿がある場合にバッジを表示できるように
- Enhance: サウンド設定に「サウンドを出力しない」と「Misskeyがアクティブな時のみサウンドを出力する」を追加
- Enhance: 設定したタグをトレンドに表示させないようにする項目を管理画面で設定できるように
- Fix: 投票のみ/画像のみの引用RNが、通知欄でただのRNとして判定されるバグを修正
- Fix: CWをつけて引用RNしても、普通のRNとして扱われてしまうバグを修正しました。
- Fix: 「画像が1枚のみのメディアリストの高さ」を「デフォルト」以外に設定していると、CWの中などに添付された画像が見られないバグを修正
- Fix: DeepL TranslationのPro accountトグルスイッチが表示されていなかったのを修正
- Fix: twitterの埋め込みカード内リンクからリンク先を開けない問題を修正
- Fix: WebKitブラウザー上でも「デバイスの画面を常にオンにする」機能が効くように
- Fix: ページ一覧ページの表示がモバイル環境において崩れているのを修正
- Fix: MFMでルビの中のテキストがnyaizeされない問題を修正

### Server
- Fix: ハッシュタグのトレンド除外設定が即時に効果を持つように修正
- Fix: 管理者用APIのアクセス権限が適切に設定されていない問題を修正


## 2023.11.1-bsk-4.0.９ (waterdrop)
### Abstract
- アバターデコレーションの上限数を4096個に引き上げました

### Server
- Fix ＆ Enhance: アバターデコレーション数の制限を4096個まで設定できるように


## 2023.11.1-bsk-4.0.8 (waterdrop)
### Abstract
- MisskeyのDevelopブランチに追従しました
- 独自機能として実装されていた、予定されていたものは追従に含まれています
	- ミュートとフォロー禁止が検索において考慮されるようになりました
- ハイライト機能をより小規模なサーバーに合わせて調整しました

### Note
- Node.js 20.10.0が最小要件になりました
- 絵文字ピッカーにピン留め表示する絵文字設定が「リアクション用」と「絵文字入力用」に分かれました。以前の設定は「リアクション用」として使用されます。

	**影響：**
	それにより、投稿フォームから表示される絵文字ピッカーのピン留め絵文字がリセットされたように感じるかもしれません（新設された"ピン留め（全般）"の設定が使われるため）。
	投稿用のピン留め絵文字をアップデート前の状態にするには、以下の手順で操作します。

	1. 「設定」メニューに移動し、「絵文字ピッカー」タブを選択します。
	2. 「ピン留 (全般)」のタブを選択します。
	3. 「リアクション設定からコピーする」ボタンを押すことで、アップデート前の状態に戻すことができます。

### General
- Enhance: アイコンデコレーションを複数設定できるように
- Enhance: アイコンデコレーションの位置を微調整できるように
- Enhance: ハイライト機能をより小規模なサーバーに合わせて調整

### Client
- Feat: 画面に雪を降らせられるように
- Enhance: MFMのアニメーション要素（`tada`, `jelly`, `twitch`, `shake`, `spin`, `jump`, `bounce`, `rainbow`）に `delay` オプションを追加
- Enhance: センシティブと判断されたウェブサイトのサムネイルを非表示に
  - ウェブサイトをセンシティブと判断する仕組みが動いていないため、summalyProxyを使用しないと機能しません。
- Enhance: 投稿フォームの絵文字ピッカーをリアクション時に使用するものと同じのを使用するように #12336 #12560
- Enhance: リアクション用ピン留め絵文字と投稿時の絵文字入力用ピン留め絵文字を分けて設定できるように #12560
- Enhance: データセーバーでコードハイライトの読み込みを削減できるように
- Enhance: データセーバーの適用範囲を個別で設定できるように
	- 従来のデータセーバーの設定はリセットされます
- Enhance: タイムライン上のタブからリスト、アンテナ、チャンネルの管理ページにジャンプできるように
- Enhance: ユーザー名、プロフィール、お知らせ、ページの編集画面でMFMや絵文字のオートコンプリートが使用できるように
- Enhance: プロフィール、お知らせの編集画面でMFMのプレビューを表示できるように
- Enhance: コードブロックのハイライト機能を利用するには言語を明示的に指定させるように
	- MFMでコードブロックを利用する際に意図しないハイライトが起こらないようになりました
	- 逆に、MFMでコードハイライトを利用したい際は言語を明示的に指定する必要があります
	（例: ` ```js ` → Javascript, ` ```ais ` → AiScript）
- Fix: 「設定のバックアップ」で一部の項目がバックアップに含まれていなかった問題を修正
- Fix: ウィジェットのジョブキューにて音声の発音方法変更に追従できていなかったのを修正 #12367
- Fix: 長い名前のチャンネルにおける投稿フォームの表示が崩れる問題を修正
- Fix: セキュリティ向上のためAiScriptの`Mk:apiExternal`を無効化
- Fix: ノート中の絵文字をタップして「リアクションする」からリアクションした際にリアクションサウンドが鳴らない不具合を修正
- Fix: ノート中のリアクションの表示を微調整 #12650
- Fix: AiScriptの`readline`が不正な値を返すことがある問題を修正

### Server
- Enhance: Meilisearchを有効にした検索で、ユーザーのミュートやブロックを考慮するように
- Fix: リストタイムラインにてミュートが機能しないケースがある問題と、チャンネル投稿がストリーミングで流れてきてしまう問題を修正 #10443
- Fix: 「みつける」のなかにミュートしたユーザが現れてしまう問題を修正 #12383
- Fix: Social/Local/Home Timelineにてインスタンスミュートが効かない問題
- Fix: ユーザのノート一覧にてインスタンスミュートが効かない問題
- Fix: チャンネルのノート一覧にてインスタンスミュートが効かない問題
- Fix: 「みつける」が年越し時に壊れる問題を修正
- Fix: モデレーションログがモデレーターは閲覧できないように修正
- Fix: HTTP Digestヘッダのアルゴリズム部分に大文字の"SHA-256"しか使えない


## 2023.11.1-bsk-4.0.7 (waterdrop)
### Abstract
- CWのボタンが表示されない不具合に対処しました

### Client
- Fix: CWのボタンがプレビュー時以外にも表示されるように


## 2023.11.1-bsk-4.0.6 (waterdrop)
### Abstract
- Misskeyのdevelopブランチに追従しました
- アカウントをフォロー禁止した際に、自身のユーザーのノートページやチャンネルでのノートが相手に表示されなくなりました
- ユーザーの概要ページでは、ハイライトではなくノートが表示されます
- (アプリ開発者の方へ)users/featured-notesは通常通り使用可能です

### Client
- Change: ユーザーの概要ページのハイライトはノートに置き換えられました
- Feat: 今日誕生日のフォロー中のユーザーを一覧表示できるウィジェットを追加
- Enhance: リアクション選択時に音を鳴らせるように
- Enhance: サウンドにドライブのファイルを使用できるように
- Enhance: ナビゲーションバーに項目「キャッシュを削除」を追加
- Enhance: Shareページで投稿を完了すると、親ウィンドウ（親フレーム）にpostMessageするように
- Enhance: チャンネル、クリップ、ページ、Play、ギャラリーにURLのコピーボタンを設置 #11305
- Enhance: ノートプレビューに「内容を隠す」が反映されるように
- Enhance: 絵文字の詳細ページに記載される情報を追加
- Fix: 一度に大量の通知が入った際に通知音が音割れする問題を修正
- Fix: 共有機能をサポートしていないブラウザの場合は共有ボタンを非表示にする #11305
- Fix: 通知のグルーピング設定を変更してもリロードされるまで表示が変わらない問題を修正 #12470

### Server
- Fix: 何もノートしていないユーザーのフィードにアクセスするとエラーになる問題を修正
- Enhance: アカウントをフォロー禁止した際に、自身のユーザーのノートページやチャンネルでのノートが相手に表示されないように


## 2023.11.1-bsk-4.0.5 (waterdrop)
### Abstract
Misskeyのdevelopブランチに追従しました
Backspacekeyに実装されていた「ビーム絵文字を原寸大で表示」オプションは、公式実装である「リアクションの最大横幅を制限し、縮小して表示する」に置換されました。設定は引き継がれないので、再設定をお願いします。

### Client
- Change: 「ビーム絵文字を原寸大で表示」は、「リアクションの最大横幅を制限し、縮小して表示する」という公式実装に置換されました
- Enhance: ユーザーのRawデータを表示するページが復活
- Fix: 特定の条件下でチャンネルやユーザーのノート一覧に最新のノートが表示されなくなる問題を修正


## 2023.11.1-bsk-4.0.4 (waterdrop)
### Abstract
Misskeyのdevelopブランチに追従しました
日本語ロケールの調整

### General
- Fix: MFM `$[unixtime ]` に不正な値を入力した際に発生する各種エラーを修正

### Client
- Enhance: 絵文字のオートコンプリート機能強化 #12364
- Feat: TL上からノートが見えなくなるワードミュートであるハードミュートを追加
- Fix: コードエディタが正しく表示されない問題を修正
- Fix: プロフィールの「ファイル」にセンシティブな画像がある際のデザインを修正
- Change: ユーザーブロックの仕様変更に伴い、より実動作に近い表現(フォロー禁止)に変更

### Server
- Enhance: MFM `$[ruby ]` が他ソフトウェアと連合されるように
- Fix: 招待コードが使い回せる問題を修正


## 2023.11.1-bsk-4.0.3 (waterdrop)
### Abstract
Misskeyのdevelopブランチに追従しました

### Client
- Fix: ウィジェットのジョブキューにて音声の発音方法変更に追従できていなかったのを修正 #12367

### Server
- Fix: 時間経過により無効化されたアンテナを再有効化したとき、サーバ再起動までその状況が反映されないのを修正 #12303
- Fix: ロールタイムラインが保存されない問題を修正
- Fix: api.jsonの生成ロジックを改善 #12402


## 2023.11.1-bsk-4.0.2 (waterdrop)
### Abstract
DockerHubにPushできるように修正をおこないました
この修正によりユーザー体験に変更はありません。


## 2023.11.1-bsk-4.0.1 (waterdrop)
### Abstract
lintの修正をおこないました
この修正によりユーザー体験に変更はありません。


## 2023.11.1-bsk-4.0 (waterdrop)
### Abstract
Misskeyフォーク元からの取り込みをおこないました。
タイムラインの仕様変更が行われます。
アップデートをおこなうことで、アンテナ内のノートがリセットされる場合があります。
Misskey 2023.11.1に追加して取り込まれた変更が以下に記載されます。

### General
- Feat: メールアドレスの認証にverifymail.ioを使えるように (cherry-pick from https://github.com/TeamNijimiss/misskey/commit/971ba07a44550f68d2ba31c62066db2d43a0caed)
- Feat: モデレーターがユーザーのアイコンもしくはバナー画像を未設定状態にできる機能を追加 (cherry-pick from https://github.com/TeamNijimiss/misskey/commit/e0eb5a752f6e5616d6312bb7c9790302f9dbff83)

### Client
- fix: 「設定のバックアップ」で一部の項目がバックアップに含まれていなかった問題を修正


## 2023.09-bsk-3.0.2 (chimera)
### Abstract
不具合修正とMisskeyフォーク元からの取り込みをおこないました。

### Client
- Feat: デッキのカラムからリロードできるように。
- Fix: 存在しない設定項目が表示される問題を修正
- fix: 絵文字ピッカーでの検索が更新されない問題を修正

### Server
- Fix: チャンネルフォロー時にエラーが出る問題を修正


## 2023.09-bsk-3.0.1 (chimera)
### Abstract
不具合修正をおこないました。

### Client
- Fix: リロードしないと新しい通知が表示されない問題を修正


## 2023.09-bsk-3.0 (chimera)
### Abstract
Misskeyフォーク元と、MisskeyIOフォークから変更を部分的に取り入れました。 ありがとうございます。

### Note
- iOS 16.4未満を使用している場合はiOS 16.4以上にアップデートをお願いします

### General
- Feat: アイコンデコレーション機能
	- サーバーで用意された画像をアイコンに重ねることができます
	- 画像のテンプレートはこちらです: https://misskey-hub.net/brand-assets/
		- 最大でも黄色いエリア内にデコレーションを収めることを推奨します。
		- 画像は512x512pxを推奨します。
- Feat: チャンネル設定にリノート／引用リノートの可否を設定できる項目を追加
- Enhance: アカウント登録時のメールアドレス認証に30分の有効期限を設定
  - 有効期限が切れた後であれば、登録時に使用した招待コードを再度利用できるように変更しました。
  - ユーザーが誤ったメールアドレスを入力した場合に招待コードが失効してしまう問題が解消されます。
- Enhance: 未読の通知数を表示できるように
- Enhance: 通知されず、確認の必要もないお知らせ(silence)を作成可能になりました
- Enhance: ローカリゼーションの更新
- Enhance: 依存関係の更新
- Change: CWを使用する場合、注釈を空にすることは許可されなくなりました

### Client
- Feat: 通知をグルーピングして表示するオプション(オプトアウト)
- Feat: Misskeyの基本的なチュートリアルを実装
- Feat: スワイプしてタイムラインを再読込できるように
	- PCの場合は右上のボタンからでも再読込できます
- Feat: 絵文字ピッカーのカテゴリを多階層フォルダで分類できるように
	- (IO)[絵文字ピッカーのカテゴリの階層を表示するように・サブカテゴリを絵文字より上に](https://github.com/MisskeyIO/misskey/pull/202)
	- (IO)[絵文字ピッカーのカテゴリを多階層フォルダで分類できるように](https://github.com/MisskeyIO/misskey/pull/196)

- Enhance: タイムラインの自動更新を無効にできるように
- Enhance: コードのシンタックスハイライトエンジンをShikiに変更
  - AiScriptのシンタックスハイライトに対応
  - MFMでAiScriptをハイライトする場合、コードブロックの開始部分を ` ```is ` もしくは ` ```aiscript ` としてください
- Enhance: データセーバー有効時はアニメーション付きのアバター画像が停止するように
- Enhance: プラグインを削除した際には、使用されていたアクセストークンも同時に削除されるようになりました
- Enhance: プラグインで`Plugin:register_note_view_interruptor`を用いてnoteの代わりにnullを返却することでノートを非表示にできるようになりました
- Enhance: AiScript関数`Mk:nyaize()`が追加されました
- Enhance: 情報→ツール はナビゲーションバーにツールとして独立した項目になりました
- Enhance: ノート内の絵文字をクリックすることで、コピーおよびリアクションができるように
- Enhance: その他細かなブラッシュアップ
- Fix: 投稿フォームでのユーザー変更がプレビューに反映されない問題を修正
- Fix: ユーザーページの ノート > ファイル付き タブにリプライが表示されてしまう
- Fix: 「検索」MFMにおいて一部の検索キーワードが正しく認識されない問題を修正
- Fix: 一部の言語でMisskey Webがクラッシュする問題を修正
- Fix: チャンネルの作成・更新時に失敗した場合何も表示されない問題を修正 #11983
- Fix: 個人カードのemojiがバッテリーになっている問題を修正
- Fix: 標準テーマと同じIDを使用してインストールできてしまう問題を修正
- Fix: 絵文字ピッカーでバッテリーの絵文字が複数表示される問題を修正 #12197
- Fix: 11以上されているリアクションにおいてツールチップで示されるリアクション数が本来よりも1多い問題を修正 #12174
- Fix: サイレンス状態で公開範囲のパブリックを選択できてしまう問題を修正 #12224
- Fix: In deck layout, replies option is not saved after refresh
- Fix: アーカイブしたお知らせがコントロールパネルに表示される問題を修正
- Fix: 絵文字ピッカーで横に長いカスタム絵文字が見切れる問題を修正
- Note: アップデート後、サウンドに関する設定が初期化されます


### Server
- Fix: トークンのないプラグインをアンインストールするときにエラーが出ないように
- Fix: 投稿通知がオンでもダイレクト投稿はユーザーに通知されないようにされました
- Fix: リノートをリノートできるのを修正
- Fix: アクセストークンを削除すると、通知が取得できなくなる場合がある問題を修正
- Fix: サーバーサイドからのテスト通知を正しく行えるように修正
- Fix: コントロールパネルの設定項目が正しく保存できない問題を修正
- Fix: 管理者権限のロールを持っていても一部のAPIが使用できないことがある問題を修正
- Feat: Registry APIがサードパーティから利用可能になりました
- Enhance: フォローしているチャンネルをフォロー解除した時（またはその逆）、タイムラインに反映される間隔を改善
- Enhance: プロフィールの自己紹介欄のMFMが連合するようになりました
	- 相手がMisskey v2023.11.0以降である必要があります
- Enhance: AP: ApplicationタイプのアカウントをisBotとして扱うように
- Enhance: ActivityPubの署名用鍵長を3072bitに変更(新規アカウントのみ)
	- (IO) [enhance(backend): use RSA 3072bit (misskey-dev#137)](https://github.com/kanarikanaru/backspacekey/commit/5d2de975b67430638f4c196cfb3f18ba166bd05e#diff-37e1031bafecba679a17777231639791cab86d877ecd7581ffdd77fb9288b06f)
- Change: カスタム絵文字管理画面でのライセンス欄が複数行に変更されました
	- (IO)[spec: カスタム絵文字のライセンスの項目を複数行テキストに (misskey-dev#130)](https://github.com/kanarikanaru/backspacekey/commit/04095b56946961a070cb507ead710496004c8b88)
- Change: ユーザーのisCatがtrueでも、サーバーではnyaizeが行われなくなりました
  - isCatな場合、クライアントでnyaize処理を行うことを推奨します


## 2023.09-bsk-2.1 (chimera)
### Abstract
Misskeyフォーク元からの機能を導入しました。

### Client
- Enhance: TLの返信表示オプションを記憶するように


## 2023.09-bsk-2.0 (chimera)
### Abstract
Misskey 2023.10におけるタイムラインの仕様変更に関わらない部分を2023.09に移植しました。

### NOTE
- 2023.9.2で導入されたノート編集機能はクオリティの高い実装が困難であることが判明したため撤回されました

### Changes
- API: drive/files/attached-notes がページネーションに対応しました

### General
- Feat: プライバシーポリシー・運営者情報（Impressum）の指定が可能になりました
	- プライバシーポリシーはサーバー登録時に同意確認が入ります
- Feat: 「ファイルの詳細」ページを追加
	- ドライブのファイルの拡大プレビューができるように
	- ファイルが添付されたノートの一覧が表示できるように
- Enhance: モデレーションログ機能の強化
- Enhance: 依存関係の更新
- Fix: ダイレクト投稿をリノートできてしまう問題を修正

### Client
- Fix: リアクションしたユーザ一覧のUIが稀に左上に残ってしまう不具合を修正

### Server
- Fix: 連合なしアンケートに投票をするとUpdateがリモートに配信されてしまうのを修正
- Fix: プロセスが終了しない、あるいは非常に時間がかかる問題を修正


## 2023.9.1-bsk-1.3
Misskeyのフォーク元に対する主な変更点は次の通りです。
次のアップデートでフォーク元に導入される変更を先行導入しました。
### General
- Enhance: タイムラインからRenoteを除外するオプションを追加
- Enhance: ユーザーページのノート一覧でRenoteを除外できるように

### Client
- Enhance: モデレーションログ機能の強化
- Enhance: Plugin:register_post_form_actionを用いてCWを取得・変更できるように

### Server
- Enhance: MasterプロセスのPIDを書き出せるように


### Server
- Fix: お知らせのページネーションが機能しない問題を修正する[本家へのコミット](https://github.com/misskey-dev/misskey/commit/dc8ab01168873c4eafe79eb8002a0028b58758c0)を先行マージ

## 2023.9.0-bsk-1.2
Misskeyのフォーク元に対する主な変更点は次の通りです。


### General
- Enhance: 検索の最大ヒット数が10,000件から50,000件に増加しノートが探しやすく

### Client
- Tweak: リアクションの表示サイズをデフォルトで小に
- Tweak: データセーバー有効時にセンシティブなメディアを目立たせる設定に変更
- Enhance: 横幅の長い絵文字をを圧縮して表示するか選べるように


### Server
- Fix: お知らせのページネーションが機能しない問題を修正する[本家へのコミット](https://github.com/misskey-dev/misskey/commit/dc8ab01168873c4eafe79eb8002a0028b58758c0)を先行マージ

## 13.14.2-bsk-0.3.0

### General
- Enhance: PWAのアイコンを設定
- Enhance: BackspaceKeyのリポジトリの表記を追加 ([TeamNijimiss様よりCherry-pick、改変](https://github.com/TeamNijimiss/misskey))

### Client
- CWを設定する際に注意を促す表記を追加 ([TeamNijimiss様よりCherry-pick、改変](https://github.com/TeamNijimiss/misskey))
